<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="flex justify-center mx-auto  ml-6">
<div class="flex justify-center mx-auto  ml-72"> <!-- Sử dụng mx-auto để căn giữa -->
    <div class="w-full lg:w-4/5 xl:w-2/2 px-10">
        <!-- Nội dung bài viết -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <div class="flex items-center space-x-7 mb-7">
                <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
                    <i class="fas fa-user text-gray-500"></i>
                </div>
                <input type="text" placeholder="Hãy đăng bài viết!" class="bg-gray-100 rounded-full py-3 px-4 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div class="border-t border-gray-200 pt-3 flex justify-around">
                <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-2">
                    <i class="fas fa-video text-red-500 mr-2"></i>
                    <span>Video</span>
                </button>
                <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-2">
                    <i class="fas fa-image text-green-500 mr-2"></i>
                    <span>Hình ảnh</span>
                </button>
                <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-2">
                    <i class="fas fa-file-alt text-yellow-500 mr-2"></i>
                    <span>Tệp tài liệu</span>
                </button>
                <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-2">
                    <i class="fas fa-poll text-blue-500 mr-2"></i>
                    <span>Thăm dò ý kiến</span>
                </button>
            </div>
        </div>







        <!-- Bài viết -->
        <!-- Bài viết -->
<div class="bg-white rounded-lg shadow-md p-4 mb-4">
    <div class="flex justify-between items-start mb-3">
        <div class="flex items-center space-x-3">
            <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
                <i class="fas fa-user text-gray-500"></i>
            </div>
            <div>
                <h4 class="font-semibold">Nguyễn Văn Linh</h4>
                <p class="text-gray-500 text-sm">5 phút</p>
            </div>
        </div>
        <button class="text-gray-500 hover:bg-gray-100 p-1 rounded-full">
            <i class="fas fa-ellipsis-h"></i>
        </button>
    </div>
    <p class="font-semibold mb-2">🌿 LAN TỎA YÊU THƯƠNG – CHUNG TAY TÌNH NGUYỆN 💚</p>

    <!-- Nội dung bài viết -->
    <div class="article-content max-h-36 overflow-hidden">
        <p class="mb-2" id="article-text">Chào tất cả các bạn! Hôm nay, mình muốn gửi đến mọi người một lời mời gọi từ trái tim:
            Hãy dành chút thời gian, chút sức trẻ của chúng ta để giúp đỡ những hoàn cảnh khó khăn và mang lại nụ cười cho cộng đồng nhé!
            Cuộc sống quanh ta vẫn còn rất nhiều mảnh đời cần sự hỗ trợ – những em nhỏ không có điều kiện đến trường,
            những gia đình chịu ảnh hưởng bởi thiên tai, hay những cụ già cô đơn cần một lời hỏi thăm, một cái ôm ấm áp.
            Chỉ cần một hành động nhỏ thôi, như quyên góp sách vở,
            tổ chức các buổi từ thiện, hay đơn giản là chia sẻ thông điệp này để kêu gọi thêm nhiều người cùng tham gia,
            chúng ta đã có thể tạo ra sự khác biệt lớn lao. ]</p>
        <ul class="list-disc pl-5 mt-4" id="article-list">
            <li><strong>Hoạt động:</strong> [Tình nguyện Xanh]</li>
            <li><strong>Thời gian:</strong> [20/4/2025, 14h]</li>
            <li><strong>Địa điểm:</strong> [Trường Đại Học Kinh Tế]</li>
        </ul>
    </div>

    <!-- Nút "Xem thêm" -->
    <a href="javascript:void(0)" id="see-more" class="text-blue-600 hover:underline mt-4 inline-block hidden">Xem thêm</a>

    <div class="border-t border-gray-200 pt-3 flex justify-between">
        <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-4 py-2">
            <i class="fas fa-heart text-red-500 mr-2"></i>
            <span>Thích</span>
        </button>
        <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-4 py-2">
            <i class="fas fa-comment text-gray-500 mr-2"></i>
            <span>Bình luận</span>
        </button>
    </div>
</div>

<!-- Modal hiện lên khi nhấn "Xem thêm" -->
<div id="modal" class="fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-lg w-1/3 max-h-screen flex flex-col">
        <div class="flex justify-between items-start mb-3">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
                    <i class="fas fa-user text-gray-500"></i>
                </div>
                <div>
                    <h4 class="font-semibold">Nguyễn Văn Linh</h4>
                    <p class="text-gray-500 text-sm">5 phút</p>
                </div>
            </div>
            <button id="close-modal" class="text-gray-500 hover:bg-gray-100 p-1 rounded-full">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Nội dung chi tiết bài viết -->
        <div class="overflow-y-auto max-h-80">
            <p class="font-semibold mb-2">🌿 LAN TỎA YÊU THƯƠNG – CHUNG TAY TÌNH NGUYỆN 💚</p>
            <p class="mb-2">Chào tất cả các bạn! Hôm nay, mình muốn gửi đến mọi người một lời mời gọi từ trái tim:
                Hãy dành chút thời gian, chút sức trẻ của chúng ta để giúp đỡ những hoàn cảnh khó khăn và mang lại nụ cười cho cộng đồng nhé!
                Cuộc sống quanh ta vẫn còn rất nhiều mảnh đời cần sự hỗ trợ – những em nhỏ không có điều kiện đến trường,
                những gia đình chịu ảnh hưởng bởi thiên tai, hay những cụ già cô đơn cần một lời hỏi thăm, một cái ôm ấm áp.
                Chỉ cần một hành động nhỏ thôi, như quyên góp sách vở,
                tổ chức các buổi từ thiện, hay đơn giản là chia sẻ thông điệp này để kêu gọi thêm nhiều người cùng tham gia,
                chúng ta đã có thể tạo ra sự khác biệt lớn lao. ]</p>
            <ul class="list-disc pl-5 mt-4">
                <li><strong>Hoạt động:</strong> [Tình nguyện Xanh]</li>
                <li><strong>Thời gian:</strong> [20/4/2025, 14h]</li>
                <li><strong>Địa điểm:</strong> [Trường Đại Học Kinh Tế]</li>
            </ul>

            <!-- Các bình luận trước -->
            <div class="mt-4 overflow-y-auto max-h-40">
                <div class="flex items-start mb-3">
                    <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-gray-500"></i>
                    </div>
                    <div class="ml-3">
                        <p class="font-semibold">Trần Văn Hùng</p>
                        <p class="text-gray-600">Cảm ơn bạn vì những hoạt động ý nghĩa này! Mình rất muốn tham gia.</p>
                    </div>
                </div>
                <div class="flex items-start mb-3">
                    <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-gray-500"></i>
                    </div>
                    <div class="ml-3">
                        <p class="font-semibold">Lê Thị Mai</p>
                        <p class="text-gray-600">Mong là sẽ có thêm nhiều hoạt động như vậy, mình sẽ tham gia nhé!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Khung bình luận cố định dưới cùng -->
       <div class="flex items-center p-4 bg-gray-100 border-t border-gray-200">
    <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
        <i class="fas fa-user text-gray-500"></i>
    </div>
    <textarea class="w-full p-4 border border-gray-300 rounded-lg ml-3" rows="1" placeholder="Viết bình luận của bạn..."></textarea>
    <button class="ml-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">Gửi</button>
</div>
</div>

<!-- JavaScript để mở và đóng Modal -->
<script>
    // Lấy các phần tử
    const seeMoreButton = document.getElementById('see-more');
    const modal = document.getElementById('modal');
    const closeModalButton = document.getElementById('close-modal');
    const articleContent = document.querySelector('.article-content');
    const maxHeight = 144; // Đặt chiều cao tối đa của bài viết (36px * 4 = 144px)

    // Kiểm tra xem nội dung có dài hơn maxHeight hay không
    if (articleContent.scrollHeight > maxHeight) {
        seeMoreButton.classList.remove('hidden'); // Hiển thị nút "Xem thêm"
    } else {
        seeMoreButton.classList.add('hidden'); // Ẩn nút "Xem thêm"
    }

    // Mở modal khi nhấn vào "Xem thêm"
    seeMoreButton.addEventListener('click', function() {
        modal.classList.remove('hidden'); // Hiển thị modal
    });

    // Đóng modal khi nhấn vào nút đóng (X)
    closeModalButton.addEventListener('click', function() {
        modal.classList.add('hidden'); // Ẩn modal
    });

    // Đóng modal khi người dùng nhấn ra ngoài modal
    window.addEventListener('click', function(event) {
        if (event.target === modal) {
            modal.classList.add('hidden');
        }
    });
</script>
</div>

<!-- bai_viet.html -->
<div class="post border rounded-lg p-4 mb-4 bg-white shadow-md">
    <!-- Avatar và thông tin người đăng -->
    <div class="flex items-center mb-2">
        <img src="/static/default-avatar.png" alt="avatar" class="w-10 h-10 rounded-full mr-2">
        <div>
            <p class="font-bold">Nguyễn Văn A</p>
            <p class="text-gray-500 text-sm">05/04/2025 09:00</p>
        </div>
    </div>

    <!-- Nội dung bài viết -->
    <div class="relative">
        <p class="post-content overflow-hidden max-h-24 transition-all duration-300 ease-in-out">
            Tình nguyện là hoạt động của một người hoặc một nhóm người sử dụng thời gian, sức lực, kỹ năng, hiểu biết của mình để đóng góp cho cộng đồng, vì những mục đích tốt, từ đó để đạt được các kỹ năng, hiểu biết mới.
            <br><br>
            Đôi lúc chúng ta hiểu đơn giản tình nguyện là tự nguyện nhưng thực ra tự nguyện chỉ là một yếu tố nhỏ trong “tình nguyện”. Tự nguyện là tinh thần tự giác tham gia một việc gì đó mang tính chất cá nhân nhiều hơn. Dựa trên tinh thần tự nguyện chúng ta làm những việc có ích cho người khác, cho cộng đồng, đó mới là tình nguyện.
        </p>
        <button class="text-blue-500 mt-1 text-sm" onclick="toggleContent(this)">Xem thêm</button>
    </div>

    <!-- Nút thích và bình luận -->
    <div class="flex justify-between mt-3">
        <button class="text-gray-500 hover:underline">
            <i class="fas fa-heart text-red-500 mr-2"></i>
            <span>Thích</span>
        </button>
        <button class="text-gray-500 hover:underline" onclick="toggleCommentBox(this)">
            <i class="fas fa-comment text-gray-500 mr-2"></i>
            <span>Bình luận</span>
        </button>
    </div>

    <!-- Phần bình luận -->
    <div class="comment-box hidden mt-4">
        <!-- Bình luận đã có -->
        <div class="existing-comments space-y-3">
            <div class="flex items-start">
                <img src="/static/default-avatar.png" alt="avatar" class="w-8 h-8 rounded-full mr-2">
                <div>
                    <p class="font-semibold">Lê Thị B</p>
                    <p class="bg-gray-100 rounded-lg p-2">Bài viết rất hay và truyền cảm hứng ❤️</p>
                </div>
            </div>
            <div class="flex items-start">
                <img src="/static/default-avatar.png" alt="avatar" class="w-8 h-8 rounded-full mr-2">
                <div>
                    <p class="font-semibold">Trần Văn C</p>
                    <p class="bg-gray-100 rounded-lg p-2">Mình cũng đang tham gia một nhóm tình nguyện, đồng cảm quá!</p>
                </div>
            </div>
        </div>

        <!-- Gửi bình luận mới -->
        <div class="flex items-center mt-4">
            <img src="/static/default-avatar.png" alt="avatar" class="w-8 h-8 rounded-full mr-2">
            <input type="text" placeholder="Viết bình luận..." class="border rounded-lg p-2 w-full">
            <button class="bg-blue-500 text-white px-3 py-2 rounded-lg ml-2">Gửi</button>
        </div>
    </div>
</div>

<script>
function toggleContent(button) {
    const content = button.previousElementSibling;
    const isCollapsed = content.classList.contains('max-h-24');

    if (isCollapsed) {
        content.classList.remove('max-h-24');
        button.innerText = 'Thu gọn';
    } else {
        content.classList.add('max-h-24');
        button.innerText = 'Xem thêm';
    }
}

function toggleCommentBox(button) {
    const commentBox = button.closest('.post').querySelector('.comment-box');
    commentBox.classList.toggle('hidden');
}

function likePost(button) {
    const span = button.querySelector('span');
    let count = parseInt(span.innerText);
    count += 1;
    span.innerText = count;
}
</script>









        <div class="post border rounded-lg p-4 mb-4 bg-white">
    <!-- Phần avatar và tên người đăng -->
    <div class="flex items-center mb-2">
        <img src="{{ post.user.avatar }}" alt="avatar" class="w-10 h-10 rounded-full mr-2">
        <div>
            <p class="font-bold">{{ post.user.name }}</p>
            <p class="text-gray-500 text-sm">{{ post.created_at }}</p>
        </div>
    </div>

    <!-- Nội dung bài viết -->
    <div class="relative">
        <p class="post-content overflow-hidden max-h-24 transition-all duration-300 ease-in-out">{{ post.content }}</p>
        {% if post.content|length > 300 %}
            <button class="text-blue-500 mt-1 text-sm" onclick="toggleContent(this)">Xem thêm</button>
        {% endif %}
    </div>

    <!-- Nút like và comment -->
    <div class="flex justify-between mt-2">

        <button class="text-gray-500 hover:underline">
            <i class="fas fa-heart text-red-500 mr-2"></i>
            <span>Thích</span>
        </button>
        <button class="text-gray-500 hover:underline" onclick="toggleCommentBox(this)">
            <i class="fas fa-comment text-gray-500 mr-2"></i>
            <span>Bình luận</span>
        </button>
    </div>

    <!-- Khung bình luận (ẩn ban đầu) -->
    <div class="comment-box hidden mt-4">
        <!-- Hiển thị các bình luận -->
        {% for comment in post.comments %}
        <div class="flex items-start mb-2">
            <img src="{{ comment.user.avatar }}" alt="avatar" class="w-8 h-8 rounded-full mr-2">
            <div>
                <p class="text-sm font-semibold">{{ comment.user.name }}</p>
                <p class="text-gray-600 text-sm">{{ comment.content }}</p>
            </div>
        </div>
        {% endfor %}

        <!-- Form nhập bình luận -->
        <div class="flex items-center mt-2">
            <img src="{{ user.avatar }}" alt="avatar" class="w-8 h-8 rounded-full mr-2">
            <input type="text" placeholder="Viết bình luận..." class="border rounded-lg p-2 w-full">
            <button class="bg-blue-500 text-white px-3 py-2 rounded-lg ml-2">Gửi</button>
        </div>
    </div>
</div>
<script>
function toggleContent(button) {
    const content = button.previousElementSibling;
    const isCollapsed = content.classList.contains('max-h-24');

    if (isCollapsed) {
        content.classList.remove('max-h-24');
        button.innerText = 'Thu gọn';
    } else {
        content.classList.add('max-h-24');
        button.innerText = 'Xem thêm';
    }
}

function toggleCommentBox(button) {
    const commentBox = button.closest('.post').querySelector('.comment-box');
    commentBox.classList.toggle('hidden');
}
</script>




    </div>






</body>
</html>